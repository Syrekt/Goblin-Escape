[gd_scene load_steps=10 format=4 uid="uid://sitlgpgjk877"]

[ext_resource type="TileSet" uid="uid://1quahlg1y22o" path="res://Map/FP_CastlePrison/castle_prison.tres" id="1_y5k7f"]
[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="2_hh4n8"]
[ext_resource type="PackedScene" uid="uid://bpj2k5beannxk" path="res://Objects/dialogue_trigger.tscn" id="3_s4j4g"]
[ext_resource type="Resource" uid="uid://57f3ouwjl4a0" path="res://Dialogues/demo_stage.dialogue" id="4_t8bgp"]
[ext_resource type="PackedScene" uid="uid://cyuk5qsesuyn8" path="res://Inventory/Pickup Objects/item_pickup_area.tscn" id="5_2pd7j"]
[ext_resource type="PackedScene" uid="uid://b4vewnv73flk4" path="res://Map/Props/Movable/statue.tscn" id="6_7w5s3"]
[ext_resource type="PackedScene" uid="uid://h6kdgfq4tnxx" path="res://Objects/hint.tscn" id="7_d3m8v"]
[ext_resource type="PackedScene" uid="uid://dw2d8bu1vlvv6" path="res://Enemy/Goblin/goblin.tscn" id="8_r43xl"]
[ext_resource type="PackedScene" uid="uid://24ijy2g2jylp" path="res://Objects/hiding_spot.tscn" id="9_ri75p"]

[node name="Room" type="Node2D"]

[node name="Tilemaps" type="Node2D" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="Tilemaps"]

[node name="BG-6" type="TileMapLayer" parent="Tilemaps/ParallaxBackground"]
z_index = -6
tile_set = ExtResource("1_y5k7f")

[node name="ParallaxLayer" type="ParallaxLayer" parent="Tilemaps/ParallaxBackground"]

[node name="BG-5-Columns-Walls" type="TileMapLayer" parent="Tilemaps/ParallaxBackground/ParallaxLayer"]
z_index = -5
tile_set = ExtResource("1_y5k7f")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Tilemaps/ParallaxBackground"]

[node name="BG-4-Paths" type="TileMapLayer" parent="Tilemaps/ParallaxBackground/ParallaxLayer2"]
z_index = -4
tile_set = ExtResource("1_y5k7f")

[node name="BG-3-Debris" type="TileMapLayer" parent="Tilemaps"]
z_index = -3
tile_set = ExtResource("1_y5k7f")

[node name="BG-2-Wall-Doors-Windows" type="TileMapLayer" parent="Tilemaps"]
z_index = -2
tile_set = ExtResource("1_y5k7f")

[node name="BG-1-Columns" type="TileMapLayer" parent="Tilemaps"]
z_index = -1
tile_set = ExtResource("1_y5k7f")

[node name="Collision" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAAYAA4AAgASACEAAAAYAA8AAgASACIAAAAZAA4AAgATACEAAAAZAA8AAgATACIAAAAaAA4AAgAUACEAAAAaAA8AAgAUACIAAAAbAA4AAgAVACEAAAAbAA8AAgAVACIAAAAcAA4AAgASACEAAAAcAA8AAgASACIAAAAdAA4AAgATACEAAAAdAA8AAgATACIAAAAeAA4AAgAUACEAAAAeAA8AAgAUACIAAAAfAA4AAgAVACEAAAAfAA8AAgAVACIAAAAgAA4AAgASACEAAAAgAA8AAgASACIAAAAhAA4AAgATACEAAAAhAA8AAgATACIAAAAiAA4AAgAUACEAAAAiAA8AAgAUACIAAAAjAA4AAgAVACEAAAAjAA8AAgAVACIAAAAkAA4AAgASACEAAAAkAA8AAgASACIAAAAlAA4AAgATACEAAAAlAA8AAgATACIAAAAmAA4AAgAUACEAAAAmAA8AAgAUACIAAAAnAA4AAgAVACEAAAAnAA8AAgAVACIAAAAoAA4AAgASACEAAAAoAA8AAgASACIAAAApAA4AAgATACEAAAApAA8AAgATACIAAAAqAA4AAgAUACEAAAAqAA8AAgAUACIAAAArAA4AAgAVACEAAAArAA8AAgAVACIAAAAsAA4AAgASACEAAAAsAA8AAgASACIAAAAtAA4AAgATACEAAAAtAA8AAgATACIAAAAuAA4AAgAUACEAAAAuAA8AAgAUACIAAAAvAA4AAgAVACEAAAAvAA8AAgAVACIAAAAwAA4AAgASACEAAAAwAA8AAgASACIAAAAxAA4AAgATACEAAAAxAA8AAgATACIAAAAyAA4AAgAUACEAAAAyAA8AAgAUACIAAAAzAA4AAgAVACEAAAAzAA8AAgAVACIAAAA0ABQAAgASACEAAAA0ABUAAgASACIAAAA1ABQAAgATACEAAAA1ABUAAgATACIAAAA2ABQAAgAUACEAAAA2ABUAAgAUACIAAAA3ABQAAgAVACEAAAA3ABUAAgAVACIAAAA4ABQAAgASACEAAAA4ABUAAgASACIAAAA5ABQAAgATACEAAAA5ABUAAgATACIAAAA6ABQAAgAUACEAAAA6ABUAAgAUACIAAAA7ABQAAgAVACEAAAA7ABUAAgAVACIAAAA8ABQAAgASACEAAAA8ABUAAgASACIAAAA9ABQAAgATACEAAAA9ABUAAgATACIAAAA+ABQAAgAUACEAAAA+ABUAAgAUACIAAAA/ABQAAgAVACEAAAA/ABUAAgAVACIAAABAABQAAgASACEAAABAABUAAgASACIAAABBABQAAgATACEAAABBABUAAgATACIAAABCABQAAgAUACEAAABCABUAAgAUACIAAABDABQAAgAVACEAAABDABUAAgAVACIAAABEABQAAgASACEAAABEABUAAgASACIAAABFABQAAgATACEAAABFABUAAgATACIAAABGABQAAgAUACEAAABGABUAAgAUACIAAABHABQAAgAVACEAAABHABUAAgAVACIAAABIABAAAgASACEAAABIABEAAgASACIAAABJABAAAgATACEAAABJABEAAgATACIAAABKABAAAgAUACEAAABKABEAAgAUACIAAABLABAAAgAVACEAAABLABEAAgAVACIAAABMABAAAgASACEAAABMABEAAgASACIAAABNABAAAgATACEAAABNABEAAgATACIAAABOABAAAgAUACEAAABOABEAAgAUACIAAABPABAAAgAVACEAAABPABEAAgAVACIAAABQABAAAgASACEAAABQABEAAgASACIAAABRABAAAgATACEAAABRABEAAgATACIAAABSABAAAgAUACEAAABSABEAAgAUACIAAABTABAAAgAVACEAAABTABEAAgAVACIAAABUABAAAgASACEAAABUABEAAgASACIAAABVABAAAgATACEAAABVABEAAgATACIAAABWABAAAgAUACEAAABWABEAAgAUACIAAABXABAAAgAVACEAAABXABEAAgAVACIAAABYABcAAgASACEAAABYABgAAgASACIAAABZABcAAgATACEAAABZABgAAgATACIAAABaABcAAgAUACEAAABaABgAAgAUACIAAABbABcAAgAVACEAAABbABgAAgAVACIAAABcABcAAgASACEAAABcABgAAgASACIAAABdABcAAgATACEAAABdABgAAgATACIAAABeABcAAgAUACEAAABeABgAAgAUACIAAABfABcAAgAVACEAAABfABgAAgAVACIAAABgABcAAgASACEAAABgABgAAgASACIAAABhABcAAgATACEAAABhABgAAgATACIAAABiABcAAgAUACEAAABiABgAAgAUACIAAABjABcAAgAVACEAAABjABgAAgAVACIAAABkABcAAgASACEAAABkABgAAgASACIAAABlABcAAgATACEAAABlABgAAgATACIAAABmABcAAgAUACEAAABmABgAAgAUACIAAABnABcAAgAVACEAAABnABgAAgAVACIAAABoABcAAgASACEAAABoABgAAgASACIAAABpABcAAgATACEAAABpABgAAgATACIAAABqABcAAgAUACEAAABqABgAAgAUACIAAABrABcAAgAVACEAAABrABgAAgAVACIAAABsABcAAgASACEAAABsABgAAgASACIAAABtABcAAgATACEAAABtABgAAgATACIAAABuABcAAgAUACEAAABuABgAAgAUACIAAABvABcAAgAVACEAAABvABgAAgAVACIAAABwABcAAgASACEAAABwABgAAgASACIAAABxABcAAgATACEAAABxABgAAgATACIAAAByABcAAgAUACEAAAByABgAAgAUACIAAABzABcAAgASACEAAABzABgAAgASACIAAAB0ABcAAgATACEAAAB0ABgAAgATACIAAAB1ABcAAgAUACEAAAB1ABgAAgAUACIAAAB2ABcAAgAVACEAAAB2ABgAAgAVACIAAAB3ABcAAgASACEAAAB3ABgAAgASACIAAAB4ABcAAgATACEAAAB4ABgAAgATACIAAAB5ABcAAgAUACEAAAB5ABgAAgAUACIAAAB6ABcAAgAVACEAAAB6ABgAAgAVACIAAAB8ABAAAgASACEAAAB8ABEAAgASACIAAAB9ABAAAgATACEAAAB9ABEAAgATACIAAAB+ABAAAgAUACEAAAB+ABEAAgAUACIAAAB/ABAAAgAVACEAAAB/ABEAAgAVACIAAACAABAAAgASACEAAACAABEAAgASACIAAACBABAAAgATACEAAACBABEAAgATACIAAACCABAAAgAUACEAAACCABEAAgAUACIAAACDABAAAgAVACEAAACDABEAAgAVACIAAACEABAAAgASACEAAACEABEAAgASACIAAACFABAAAgATACEAAACFABEAAgATACIAAACGABAAAgAUACEAAACGABEAAgAUACIAAACHABAAAgAVACEAAACHABEAAgAVACIAAACIABAAAgASACEAAACIABEAAgASACIAAACJABAAAgATACEAAACJABEAAgATACIAAACKABAAAgAUACEAAACKABEAAgAUACIAAACLABAAAgAVACEAAACLABEAAgAVACIAAACMABAAAgASACEAAACMABEAAgASACIAAACNABAAAgATACEAAACNABEAAgATACIAAACOABAAAgAUACEAAACOABEAAgAUACIAAACPABAAAgAVACEAAACPABEAAgAVACIAAACcABAAAgAUABUAAFCbABAAAgAYABYAAFCcABEAAgAUABUAAFCbABEAAgAZABYAAFCcABIAAgAUABUAAACbABIAAgARABkAAACcABMAAgAUABUAAACbABMAAgARABoAAACcABQAAgAUABUAAACbABQAAgARABcAAACcABUAAgAUABUAAACbABUAAgARABgAAACbAA8AAgAXABYAAFCbAA4AAgAWABYAAFCbAA0AAgAaABYAAFCbAAwAAgAZABYAAFCbAAsAAgAYABYAAFCbAAoAAgAXABYAAFCbAAkAAgAZABYAAFCbAAgAAgAYABYAAFCcAA8AAgAUABUAAFCcAA4AAgAUABUAAFCcAA0AAgAUABUAAFCcAAwAAgAUABUAAFCcAAsAAgAUABUAAFCcAAoAAgAUABUAAFCcAAkAAgAUABUAAFCcAAgAAgAUABUAAFCbAAcAAgAXABYAAFCbAAYAAgAWABYAAFCbAAUAAgAaABYAAFCbAAQAAgAZABYAAFCbAAMAAgAYABYAAFCbAAIAAgAXABYAAFCcAAcAAgAUABUAAFCcAAYAAgAUABUAAFCcAAUAAgAUABUAAFCcAAQAAgAUABUAAFCcAAMAAgAUABUAAFCcAAIAAgAUABUAAFCcABYAAgAUABUAAACbABYAAgARABkAAACcABcAAgAUABUAAACbABcAAgARABoAAACcABgAAgASABsAAACbABgAAgARABsAAACcABkAAgASABwAAACbABkAAgARABwAAACPABIAAgAVABEAAACOABIAAgAUABUAABCPABMAAgARABgAABCOABMAAgAUABUAABCPABQAAgARABkAABCOABQAAgAUABUAABCPABUAAgARABoAABCOABUAAgAUABUAABCPABYAAgARABcAABCOABYAAgAUABUAABCPABcAAgARABgAABCOABcAAgAUABUAABCPABgAAgARABkAABCOABgAAgAUABUAABCPABkAAgARABoAABCOABkAAgAUABUAABCPABoAAgARABsAABCOABoAAgASABsAABCPABsAAgARABwAABCOABsAAgASABwAABCOACEAAgASACEAAACOACIAAgASACIAAACPACEAAgATACEAAACPACIAAgATACIAAACQACEAAgAUACEAAACQACIAAgAUACIAAACRACEAAgAVACEAAACRACIAAgAVACIAAACSACEAAgASACEAAACSACIAAgASACIAAACTACEAAgATACEAAACTACIAAgATACIAAACUACEAAgAUACEAAACUACIAAgAUACIAAACVACEAAgAVACEAAACVACIAAgAVACIAAACWACEAAgASACEAAACWACIAAgASACIAAACXACEAAgATACEAAACXACIAAgATACIAAACYACEAAgAUACEAAACYACIAAgAUACIAAACZACEAAgAVACEAAACZACIAAgAVACIAAACaACEAAgASACEAAACaACIAAgASACIAAACbACEAAgATACEAAACbACIAAgATACIAAACcACEAAgAUACEAAACcACIAAgAUACIAAACdACEAAgAVACEAAACdACIAAgAVACIAAACeACEAAgASACEAAACeACIAAgASACIAAACfACEAAgATACEAAACfACIAAgATACIAAACgACEAAgAUACEAAACgACIAAgAUACIAAAChACEAAgAVACEAAAChACIAAgAVACIAAACiACEAAgASACEAAACiACIAAgASACIAAACjACEAAgATACEAAACjACIAAgATACIAAACkACEAAgAUACEAAACkACIAAgAUACIAAAClACEAAgAVACEAAAClACIAAgAVACIAAACmACEAAgASACEAAACmACIAAgASACIAAACnACEAAgATACEAAACnACIAAgATACIAAACoACEAAgAUACEAAACoACIAAgAUACIAAACpACEAAgAVACEAAACpACIAAgAVACIAAACqACEAAgASACEAAACqACIAAgASACIAAACrACEAAgATACEAAACrACIAAgATACIAAACsACEAAgAUACEAAACsACIAAgAUACIAAACtACEAAgAVACEAAACtACIAAgAVACIAAACuACEAAgASACEAAACuACIAAgASACIAAACvACEAAgATACEAAACvACIAAgATACIAAACwACEAAgAUACEAAACwACIAAgAUACIAAACxACEAAgAVACEAAACxACIAAgAVACIAAACyACEAAgASACEAAACyACIAAgASACIAAACzACEAAgATACEAAACzACIAAgATACIAAAC0ACEAAgAUACEAAAC0ACIAAgAUACIAAAC1ACEAAgAVACEAAAC1ACIAAgAVACIAAAC3ACEAAgATACEAAAC3ACIAAgATACIAAAC4ACEAAgAUACEAAAC4ACIAAgAUACIAAAC5ACEAAgAVACEAAAC5ACIAAgAVACIAAAC6ACEAAgASACEAAAC6ACIAAgASACIAAAC7ACEAAgATACEAAAC7ACIAAgATACIAAAC8ACEAAgAUACEAAAC8ACIAAgAUACIAAAC9ACEAAgAVACEAAAC9ACIAAgAVACIAAAC+ACEAAgASACEAAAC+ACIAAgASACIAAAC/ACEAAgATACEAAAC/ACIAAgATACIAAADAACEAAgAUACEAAADAACIAAgAUACIAAADBACEAAgAVACEAAADBACIAAgAVACIAAADCACEAAgASACEAAADCACIAAgASACIAAAC2ACEAAgASACEAAAC2ACIAAgASACIAAADDACEAAgATACEAAADDACIAAgATACIAAADEACEAAgAUACEAAADEACIAAgAUACIAAADFACEAAgAVACEAAADFACIAAgAVACIAAAA=")
tile_set = ExtResource("1_y5k7f")

[node name="FG-1-Spikes-Chains" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAA0ABMAAgABABoAAAA0ABQAAgABABsAAAA1ABMAAgACABoAAAA1ABQAAgACABsAAAA2ABMAAgADABoAAAA2ABQAAgADABsAAAA3ABMAAgAEABoAAAA3ABQAAgAEABsAAAA4ABMAAgABABoAAAA4ABQAAgABABsAAAA5ABMAAgACABoAAAA5ABQAAgACABsAAAA6ABMAAgADABoAAAA6ABQAAgADABsAAAA7ABMAAgAEABoAAAA7ABQAAgAEABsAAAA8ABMAAgABABoAAAA8ABQAAgABABsAAAA9ABMAAgACABoAAAA9ABQAAgACABsAAAA+ABMAAgADABoAAAA+ABQAAgADABsAAAA/ABMAAgAEABoAAAA/ABQAAgAEABsAAABAABMAAgABABoAAABAABQAAgABABsAAABBABMAAgACABoAAABBABQAAgACABsAAABCABMAAgADABoAAABCABQAAgADABsAAABDABMAAgAEABoAAABDABQAAgAEABsAAABEABMAAgABABoAAABEABQAAgABABsAAABFABMAAgACABoAAABFABQAAgACABsAAABGABMAAgADABoAAABGABQAAgADABsAAABHABMAAgAEABoAAABHABQAAgAEABsAAAA=")
tile_set = ExtResource("1_y5k7f")

[node name="FG-2" type="TileMapLayer" parent="Tilemaps"]
z_index = 2
tile_set = ExtResource("1_y5k7f")

[node name="RoomInstance" parent="." instance=ExtResource("2_hh4n8")]

[node name="DialogueTrigger" parent="." instance=ExtResource("3_s4j4g")]
position = Vector2(1696, 341)
dialogue_resource = ExtResource("4_t8bgp")
dialogue_start = "enemy_alerted"
auto = true
repeat = false

[node name="ItemPickupArea" parent="." instance=ExtResource("5_2pd7j")]

[node name="Statue" parent="ItemPickupArea" instance=ExtResource("6_7w5s3")]
position = Vector2(1814, 352)

[node name="Hint" parent="." instance=ExtResource("7_d3m8v")]
position = Vector2(1813.5684, 344.37152)
text = "[img]res://UI/Buttons/button_keyboard_l.png[/img]to grab and move objects."

[node name="Goblin" parent="." instance=ExtResource("8_r43xl")]
position = Vector2(2016, 256)

[node name="HidingSpot" parent="." instance=ExtResource("9_ri75p")]
position = Vector2(2144, 229)

[node name="Goblin2" parent="." instance=ExtResource("8_r43xl")]
position = Vector2(2896, 528)
patrolling = true

[node name="HidingSpot2" parent="." instance=ExtResource("9_ri75p")]
position = Vector2(2896, 501)

[node name="Goblin3" parent="." instance=ExtResource("8_r43xl")]
position = Vector2(816, 224)
